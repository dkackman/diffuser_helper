{
    "id": "stable-diffusion-x4-upscaler",
    "steps": [
        {
            "name": "main",
            "pipeline": {
                "configuration": {
                    "pipeline_type": "StableDiffusionPipeline"
                },
                "from_pretrained_arguments": {
                    "model_name": "stable-diffusion-v1-5/stable-diffusion-v1-5",
                    "torch_dtype": "torch.float16"
                }
            },
            "iterations": [
                {
                    "result_properties": {
                        "content_type": "image/jpeg"
                    },
                    "arguments": {
                        "prompt": "Stormtrooper's lecture in beautiful lecture hall",
                        "num_inference_steps": 25
                    },
                    "capture_intermediate_results": {
                        "low_res_image": "image"
                    }
                }
            ]
        },
        {
            "name": "upscale",
            "pipeline": {
                "configuration": {
                    "pipeline_type": "StableDiffusionUpscalePipeline"
                },
                "from_pretrained_arguments": {
                    "model_name": "stabilityai/stable-diffusion-x4-upscaler",
                    "torch_dtype": "torch.float16"
                }
            },
            "iterations": [
                {
                    "arguments": {
                        "prompt": "Stormtrooper's lecture in beautiful lecture hall"
                    },
                    "intermediate_results": {
                        "image": "low_res_image"
                    }
                }
            ]
        }
    ]
}